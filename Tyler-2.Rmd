---
title: "DRAFT:  A model to predict chances of matching into Obstetrics and Gynecology Residency"
author: "Tyler M. Muffly, MD"
date: '`r format(Sys.time(), "%d %B, %Y")`'
output:
  html_document:
    toc: true
    toc_depth: 2
    dev: 'svg'
    code_folding: show
  word_document: default
  pdf_document: 
    latex_engine: xelatex
    df_print: kable
    toc: true
    #pandoc_args: ["--wrap=none", "--top-level-division=chapter"]
fontsize: 12pt
geometry: margin=1in
---
Objective:  We sought to construct and validate a model that predict a medical student's chances of matching into an obstetrics and gynecology residency. 

# Introduction

The data set of years 2015, 2016, 2017, and 2018 at University of Colorado. Applicants who were in the SOAP and applied to the preliminary spot were determined to be unmatched.  The data is contained in a data frame called all_data.  

## Install and Load packages.  See Session information at the end.  
```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.width=8, fig.height=6, include=FALSE,echo=FALSE, warning=FALSE, message=FALSE, tidy = TRUE, comment="")
options(tinytex.verbose = TRUE)
r = getOption("repos")
r["CRAN"] = "http://cran.us.r-project.org"
options(repos = r)
# data_folder <- paste0("~/Dropbox/Nomogram/nomogram/data/")
data_folder <- paste0("Data/")
# results_folder <- paste0("~/Dropbox/Nomogram/nomogram/results")
results_folder <- paste0("Results/")
packrat::set_opts(local.repos = c("packrat/lib/x86_64-apple-darwin15.6.0/3.6.0/"))
```

```{r, include=FALSE, echo=FALSE}
library(packrat)
packrat::packrat_mode(on = TRUE)

# install.packages("anonymizer", type="source")
if(!require(pacman))install.packages("pacman")
pacman::p_load('caret', 'readxl', 'XML', 'reshape2', 'devtools', 'purrr', 'readr', 'ggplot2', 'dplyr', 'magick', 'janitor', 'lubridate', 'hms', 'tidyr', 'stringr', 'readr', 'openxlsx', 'forcats', 'RcppRoll', 'tibble', 'bit64', 'munsell', 'scales', 'rgdal', 'tidyverse', "foreach", "PASWR", "rms", "pROC", "ROCR", "nnet", "janitor", "packrat", "DynNom", "export", "caTools", "mlbench", "randomForest", "ipred", "xgboost", "Metrics", "RANN", "AppliedPredictiveModeling", "nomogramEx", "shiny", "earth", "fastAdaboost", "Boruta", "glmnet", "ggforce", "tidylog", "InformationValue", "pscl", "scoring", "DescTools", "gbm", "Hmisc", "arsenal", "pander", "moments", "leaps", "MatchIt", "car", "mice", "rpart", "beepr", "fansi", "utf8", "zoom", "lmtest", "ResourceSelection", "rpart", "rmarkdown", "rattle", "rmda", "funModeling", "DynNom", "tinytex", "caretEnsemble", "broom", "Rmisc", "corrplot", "GGally", "alluvial", "progress", "car", "perturb", "vctrs", "highr", "labeling", "DataExplorer", "rsconnect", "inspectdf", "ggpubr", "esquisse", "rmarkdown", "stargazer", "tableone", "knitr", "drake", "visNetwork", "rpart", "woeBinning", "OneR", "rattle", "rpart.plot", "RColorBrewer", "randomForest", "kableExtra", "kernlab", "naivebayes", "dplR")

library(dplR)
```
